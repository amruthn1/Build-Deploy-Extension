var e=require("vscode"),{exec:d}=require("child_process");function h(p){let l=process.platform,n;l==="win32"?n="gradlew":n="./gradlew";let i,_=e.window.createOutputChannel("WPILib Build+Deploy"),s=e.commands.registerCommand("wpilib-build-deploy-command.Build+Deploy",async function(){_.show(),_.clear(),_.appendLine(" ____      ____  _______  _____  _____      _   __         ______             _   __        __        ______                   __                   \r\n|_  _|    |_  _||_   __ \\|_   _||_   _|    (_) [  |       |_   _ \\           (_) [  |      |  ]  .-. |_   _ `.                [  |                  \r\n  \\ \\  /\\  / /    | |__) | | |    | |      __   | |.--.     | |_) | __   _   __   | |  .--.| | __| |__ | | `. \\ .---.  _ .--.  | |  .--.   _   __   \r\n   \\ \\/  \\/ /     |  ___/  | |    | |   _ [  |  | '/'`\\ \\   |  __'.[  | | | [  |  | |/ /'`\\' ||__   __|| |  | |/ /__\\\\[ '/'`\\ \\| |/ .'`\\ \\[ \\ [  ]  \r\n    \\  /\\  /     _| |_    _| |_  _| |__/ | | |  |  \\__/ |  _| |__) || \\_/ |, | |  | || \\__/  |   | |  _| |_.' /| \\__., | \\__/ || || \\__. | \\ '/ /   \r\n     \\/  \\/     |_____|  |_____||________|[___][__;.__.'  |_______/ '.__.'_/[___][___]'.__.;__]  '-' |______.'  '.__.' | ;.__/[___]'.__.'[\\_:  /    \r\n                                                                                                                      [__|                \\__.'     "),_.appendLine("Made by Team 2554"),i=!0,await r()});p.subscriptions.push(s);async function r(){d("cd "+e.workspace.workspaceFolders[0].uri.fsPath+"&& "+n+" build",(t,w,o)=>{e.window.showInformationMessage("WPILib Build+Deploy: Building..."),_.appendLine("||   BUILDING   ||"),t&&(e.window.showErrorMessage("WPILib Build+Deploy: Error while building. Check output for detailed logs"),_.appendLine("||   ERROR   ||"),_.show(),_.appendLine(`${o}`),i=!1),_.show(),_.appendLine(`${w}`),_.appendLine(`${o}`),i&&(e.window.showInformationMessage("WPILib Build+Deploy: Deploying..."),_.appendLine("||   DEPLOYING   ||"),d("cd "+e.workspace.workspaceFolders[0].uri.fsPath+"&&"+n+"deploy",(u,c,a)=>{u&&(e.window.showErrorMessage("WPILib Build+Deploy: Error while deploying. Check output for detailed logs"),_.appendLine("||   ERROR   ||"),_.show(),_.appendLine(`${a}`),i=!1),_.show(),_.appendLine(`${c}`),_.appendLine(`${a}`)}))})}}function L(){e.window.showInformationMessage("WPILib Build+Deploy: Stopping....")}module.exports={activate:h,deactivate:L};
